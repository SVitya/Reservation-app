{"version":3,"sources":["api/firestore.js","components/Header/Header.js","components/Home/Home.js","components/ItemPrice/ItemPrice.js","components/Price/Price.js","utils/Utils.js","components/DateInput/DateInput.js","components/TimeInput/TimeInput.js","components/NumberInput/NumberInput.js","components/NumberInputs/NumberInputs.js","components/UserInfoInput/UserInfoInput.js","components/SubmitButton/SubmitButton.js","components/Reservation/Reservation.js","components/Success/Success.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","firestore","Header","className","to","Home","title","subtitle","ItemPrice","item","colSpan","name","Object","entries","price","map","key","Price","items","id","closestHour","Date","getHours","currentDate","dateFormatting","date","year","getFullYear","month","getMonth","day","getDate","toString","length","DateInput","value","handleChange","formValues","setFormValues","close","type","onChange","required","min","TimeInput","open","useState","timeOptions","setTimeOptions","createOptions","timeToStartWith","options","i","useEffect","time","Parser","NumberInput","max","NumberInputs","reserved","setReserved","mounted","collection","doc","get","then","undefined","data","catch","err","console","error","quantity","UserInfoInput","label","pattern","SubmtiButton","withRouter","history","getTime","phone","event","target","updateItemsInFormValues","itemsValues","forEach","onSubmit","preventDefault","values","some","updatedReservation","set","merge","push","log","alert","Success","App","rentProvider","setRentProvider","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.682548fd.chunk.js","sourcesContent":["import firebase from 'firebase';\r\n\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyDAGtr35zpQde_Uw8_W_BN5z6VpcXaTz7k\",\r\n    authDomain: \"reservation-e459e.firebaseapp.com\",\r\n    databaseURL: \"https://reservation-e459e.firebaseio.com\",\r\n    projectId: \"reservation-e459e\",\r\n    storageBucket: \"reservation-e459e.appspot.com\",\r\n    messagingSenderId: \"194705364201\",\r\n    appId: \"1:194705364201:web:8cc08d320057cf864d8c78\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nconst db = firebase.firestore();\r\n\r\nexport default db;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Header.css';\r\n\r\nexport default function Header() {\r\n    return (\r\n        <header>\r\n            <nav>\r\n                <ul className='nav'>\r\n                    <li>\r\n                        <Link to='/'>Home</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to='/price'>Price</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to='/reservation'>Reservation</Link>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </header>\r\n    )\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Home.css';\r\n\r\nexport default function Home({ title, subtitle}) {\r\n    return (\r\n        <div className='home'>\r\n            <h1>{title}</h1>\r\n            <p>{subtitle}</p>\r\n            <Link to='/price'>Price</Link>\r\n            <Link to='/reservation'>Reservation</Link>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function ItemPrice({ item }) {\r\n    return (\r\n        <>\r\n            <thead>\r\n                <tr>\r\n                    <th colSpan='2'>{item.name}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n            {Object.entries(item.price).map(price => (\r\n                <tr key={price}>\r\n                    <td key={price[0]}>{price[0]}</td>\r\n                    <td key={price[1]}>{price[1]}</td>\r\n                </tr>\r\n                ))}\r\n            </tbody>\r\n        </>\r\n    )\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Price.css';\r\n\r\nimport ItemPrice from '../ItemPrice/ItemPrice';\r\n\r\nexport default function Price({ items }) {\r\n    return (\r\n        <div className='price'>\r\n            <table>\r\n                {items.map(item => (<ItemPrice key={item.id} item={item}/>))}\r\n            </table>\r\n            <Link to='/reservation'>Reservation</Link>\r\n        </div>\r\n    )\r\n}","export function closestHour() {\r\n    return new Date().getHours() + 1;\r\n}\r\n\r\nexport function currentDate() {\r\n    return dateFormatting(new Date());\r\n}\r\n\r\nexport function tomorrowDate() {\r\n    return dateFormatting(new Date(new Date().getTime() + 24 * 60 * 60 * 1000));\r\n}\r\n\r\nfunction dateFormatting(date) {\r\n    let year = date.getFullYear();\r\n    let month = date.getMonth() + 1;\r\n    let day = '' + date.getDate();\r\n\r\n    if (month.toString.length < 2) {\r\n        month = '0' + month;\r\n    }\r\n    if (day.length < 2) {\r\n        day = '0' + day;\r\n    }\r\n    \r\n    return `${year}-${month}-${day}`;\r\n}","import React from 'react';\r\n\r\nimport { currentDate } from '../../utils/Utils';\r\n\r\nexport default function DateInput({ value, handleChange, formValues, setFormValues, close }) {\r\n    return (\r\n        <li>\r\n            <label>Date\r\n                <input\r\n                    type='date'\r\n                    name='date'\r\n                    value={value}\r\n                    onChange={handleChange}\r\n                    required\r\n                    min={currentDate()}\r\n                ></input>\r\n            </label>\r\n        </li>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport Parser from 'html-react-parser';\r\n\r\nimport { closestHour, currentDate } from '../../utils/Utils';\r\n\r\nexport default function TimeInput({ value, handleChange, formValues, setFormValues, date, open, close}) {\r\n\r\n    let [timeOptions, setTimeOptions] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (date === currentDate()) {\r\n            setTimeOptions(createOptions(closestHour()))\r\n            setFormValues({...formValues, time: closestHour()})\r\n        } else {\r\n            setTimeOptions(createOptions(open))\r\n            setFormValues({...formValues, time: `${open}:00`})\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [date]);\r\n\r\n    function createOptions(timeToStartWith) {\r\n        let options = '';\r\n\r\n        for (let i = timeToStartWith; i < close; i++) {\r\n            options += `<option value='${i}:00'>${i}:00</option>`;\r\n        }\r\n\r\n        return options;\r\n    }\r\n\r\n    return (\r\n        <li>\r\n            <label>Time\r\n                <select\r\n                    name='time'\r\n                    value={value}\r\n                    onChange={handleChange}\r\n                    required\r\n                >\r\n                    {Parser(timeOptions)}\r\n                </select>\r\n            </label>\r\n        </li>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function NumberInput({ item, value, handleChange, max }) {\r\n    return (\r\n        <li>\r\n            <label>{item.name} (max {max})\r\n                <input\r\n                    type='number'\r\n                    name={item.id}\r\n                    value={value}\r\n                    onChange={handleChange}\r\n                    min='0'\r\n                    max={max}\r\n                    required\r\n                >\r\n                </input>\r\n            </label>\r\n        </li>\r\n    )\r\n}","import React, { useEffect} from 'react';\r\nimport db from '../../api/firestore';\r\n\r\nimport NumberInput from '../NumberInput/NumberInput';\r\n\r\nexport default function NumberInputs({ items, formValues, handleChange, reserved, setReserved }) {\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        if (formValues.date !== '') {\r\n            db.collection('dates').doc(formValues.date)\r\n                .get()\r\n                .then(doc => {\r\n                    if (mounted) {\r\n                        if (doc.data() !== undefined && doc.data()[formValues.time] !== undefined) {\r\n                            setReserved(doc.data()[formValues.time])\r\n                        } else {\r\n                            setReserved({})\r\n                        }                   \r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    if (mounted) {\r\n                        console.error(err)\r\n                    }\r\n                })\r\n        }\r\n\r\n        return () => { mounted = false };\r\n    }, [formValues.date, formValues.time, items, setReserved])\r\n\r\n    return (\r\n        <div>\r\n            {items.map(item => (<NumberInput \r\n                    key={item.id} \r\n                    item={item}\r\n                    value={formValues.items !== undefined ? formValues.items[item.id] : ''}\r\n                    handleChange={handleChange}\r\n                    max={reserved[item.id] !== undefined ? item.quantity - reserved[item.id] : item.quantity}\r\n            />))}\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function UserInfoInput({ label, type, name, value, handleChange, max, pattern }) {\r\n    return (\r\n        <li>\r\n            <label>{label}\r\n                <input\r\n                    type={type}\r\n                    name={name}\r\n                    value={value}\r\n                    onChange={handleChange}\r\n                    min='0'\r\n                    max={max}\r\n                    pattern={pattern}\r\n                    required\r\n                >\r\n                </input>\r\n            </label>\r\n        </li>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function SubmtiButton() {\r\n    return (\r\n        <li>\r\n            <input type='submit' value='Reserve'></input>\r\n        </li>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport db from '../../api/firestore';\r\nimport './Reservation.css';\r\n\r\nimport DateInput from '../DateInput/DateInput';\r\nimport TimeInput from '../TimeInput/TimeInput';\r\nimport NumberInputs from '../NumberInputs/NumberInputs';\r\nimport UserInfoInput from '../UserInfoInput/UserInfoInput';\r\nimport SubmitButton from '../SubmitButton/SubmitButton';\r\n\r\nimport { closestHour, currentDate, tomorrowDate } from '../../utils/Utils';\r\n\r\nfunction Reservation({ items, open, close, history }) {\r\n\r\n    let [formValues, setFormValues] = useState({\r\n        date: closestHour() < close ? currentDate() : tomorrowDate(),\r\n        time: open < closestHour() && closestHour() < close ? closestHour() + ':00' : open  + ':00',\r\n        phone: '+38',\r\n    });\r\n\r\n    let [reserved, setReserved] = useState({});\r\n\r\n    useEffect(() => {\r\n        updateItemsInFormValues()\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    function handleChange(event) {\r\n        const { name, value, type } = event.target;\r\n\r\n        if (name === 'time') {\r\n            setFormValues({...formValues, [name]: value}, updateItemsInFormValues())\r\n        } else if (type === 'number') {\r\n            setFormValues({...formValues, items: {...formValues.items, [name]: +value}})\r\n        } else {\r\n            setFormValues({...formValues, [name]: value})\r\n        }\r\n    }\r\n\r\n    function hendleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        if (Object.values(formValues.items).some(item => item !== 0)) {\r\n            let updatedReservation = {};\r\n\r\n            for (let item in formValues.items) {\r\n                if(formValues.items[item] > 0) {\r\n                    updatedReservation = {...updatedReservation, [item]: reserved[item] !== undefined ? reserved[item] + formValues.items[item] : formValues.items[item]}\r\n                }\r\n            }\r\n\r\n            db.collection('dates')\r\n                .doc(formValues.date)\r\n                .set({[formValues.time]: {...updatedReservation}}, {merge: true})\r\n                .then(() => history.push('/success'))\r\n                .catch(err => console.log(err));\r\n\r\n            db.collection('dates')\r\n                .doc(formValues.date)\r\n                .collection(formValues.time)\r\n                .doc()\r\n                .set({\r\n                    ...formValues.items,\r\n                    name: formValues.name,\r\n                    phone: formValues.phone,\r\n                });\r\n        } else {\r\n            alert('Please, choose some items');\r\n        }\r\n    }\r\n\r\n    function updateItemsInFormValues() {\r\n        let itemsValues;\r\n        items.forEach(item => itemsValues = ({...itemsValues, [item.id]: 0}));\r\n        setFormValues({...formValues, items: {...itemsValues}});\r\n    }\r\n\r\n    return (\r\n        <form className='reservation' onSubmit={hendleSubmit}>\r\n            <ul>\r\n                <DateInput\r\n                    value={formValues.date}\r\n                    handleChange={handleChange}\r\n                    formValues={formValues}\r\n                    setFormValues={setFormValues}\r\n                    close={close}\r\n                />\r\n                <TimeInput \r\n                    value={formValues.time}\r\n                    handleChange={handleChange}\r\n                    formValues={formValues}\r\n                    setFormValues={setFormValues}\r\n                    date={formValues.date}\r\n                    open={open}\r\n                    close={close}\r\n                />\r\n                <NumberInputs\r\n                    items={items}\r\n                    formValues={formValues}\r\n                    handleChange={handleChange}\r\n                    reserved={reserved}\r\n                    setReserved={setReserved}\r\n                />\r\n                <UserInfoInput\r\n                    label='Name'\r\n                    type='text'\r\n                    name='name'\r\n                    value={formValues.name}\r\n                    handleChange={handleChange}\r\n                    pattern='[a-zA-Zа-яґєіїА-ЯҐЄІЇ ]{2,30}'\r\n                />\r\n                <UserInfoInput\r\n                    label='Phone number'\r\n                    type='tel'\r\n                    name='phone'\r\n                    value={formValues.phone}\r\n                    handleChange={handleChange}\r\n                    pattern='^\\+38[0-9]{10}'\r\n                />\r\n                <SubmitButton />\r\n            </ul>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default withRouter(Reservation);","import React from 'react';\r\nimport './Success.css';\r\n\r\nexport default function Success() {\r\n    return (\r\n        <h1 className='success'>Thanks for your reservation!</h1>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n} from 'react-router-dom';\nimport './App.css';\n\nimport db from './api/firestore';\n\nimport Header from './components/Header/Header';\nimport Home from './components/Home/Home';\nimport Price from './components/Price/Price';\nimport Reservation from './components/Reservation/Reservation';\nimport Success from './components/Success/Success';\n\nexport default function App() {\n\n    let [rentProvider, setRentProvider] = useState({});\n\n    useEffect(() => {\n        db.collection('rentProviders').doc('rentProvider1')\n        .get()\n        .then(doc => setRentProvider(doc.data()))\n        .catch(err => console.error(err));\n    }, []);\n\n    if (rentProvider.items !== undefined) {\n        return (\n            <Router>\n                <Header />\n                \n                <Switch>\n                    <Route path='/price'>\n                        <Price items={rentProvider.items}/>\n                    </Route>\n                    <Route path='/reservation'>\n                        <Reservation items={rentProvider.items} open={rentProvider.open} close={rentProvider.close}/>\n                    </Route>\n                    <Route path='/success'>\n                        <Success />\n                    </Route>\n                    <Route path='/'>\n                        <Home title={rentProvider.title} subtitle={rentProvider.subtitle}/>\n                    </Route>\n                </Switch>\n            </Router>\n        )\n    } else {\n        return (\n            <p>Wait a second...</p>\n        )\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}